
#include <iostream>
#include <ctime>
#include <cstdlib>
using namespace std; 

int main(){
	
	int win=0, fail = 0, i, j, k, num[3]={0}, guess[3]={0}, matchA, matchB;
	char play;
	bool flag;
	srand(time(NULL));
	
	while (true){
		
		cout << "需要玩游戏吗（Y/N）？";
		cin >> play;
		if ( play != 'N' && play != 'Y' ) continue; 
		else if ( play == 'N') break;
		num[0] = num[1] = num[2] = 0;            //初始化，将判断是否猜对的标志改为false 
		flag = 0; 
			
		while ( num[0] == num[1] || num[0] == num[2] || num[1] == num[2] ){  //生成3个不同的随机数（0~9） 
			num[0] = rand() % 10;
			num[1] = rand() % 10;
			num[2] = rand() % 10;
		} 
		
		for ( i = 1; i <= 7; ++i){
			
			cout << "请输入你猜测的数字" << endl;
			cin >> guess[0] >> guess[1] >> guess[2];	
			matchA = matchB = 0;                   // 初始化 matchA，matchB分别表示完全准确和位置不对的数字个数 
			
			for ( j = 0; j <= 2; ++j){
				if ( num[j] == guess[j] ) ++matchA;
			}
			if ( matchA == 3 ) { flag = 1; ++win; break; }
			
			for ( j = 0; j <= 2; ++j)
			    for ( k = 0; k <= 2; ++k) 	if ( num[j] == guess[k] )  ++matchB;
	        matchB -= matchA;
			
			cout << matchA << "A" << matchB << "B";
		}
		
		if ( flag == 1 )  cout << "恭喜，你答对了！"; 
		else { 
		    ++fail; 
			cout << "很遗憾，你没有在规定次数内猜对。答案是 " << num[0] << num[1] << num[2];	
		}
	}
	cout << "你一共玩了" << win+fail << "局，赢了" << win << "局，输了" << fail << "局"; 
	
	return 0;	
}
